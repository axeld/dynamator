<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>
      20-Minute Guide
    </title>
    <link type="text/css" href="style.css" rel="stylesheet" />
  </head>
  <body>
    <h1>
      The 20 Minute Guide
    </h1>
    <p>Contents:</p>
    <ul class="toc">
      <li>
        <a href="#helloworld">Hello World</a>
      </li>
      <li>
        <a href="#is">What Dynamator is</a>
      </li>
      <li>
        <a href="#markup">Marking up HTML and XML</a>
      </li>
      <li>
        <a href="#syntax">Syntax</a> 
        <ul class="toc">
          <li>
            <a href="#root">Root Level</a>
          </li>
          <li>
            <a href="#locators">First Level: Locators</a>
          </li>
          <li>
            <a href="#modifiers">Second Level: Modifiers</a> 
            <ul class="toc">
              <li>
                <a href="#if">If</a>
              </li>
              <li>
                <a href="#foreach">Foreach</a>
              </li>
              <li>
                <a href="#attrs">Attributes</a>
              </li>
              <li>
                <a href="#primitives">Primitives</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#precedence">Locator Precedence</a>
          </li>
        </ul>
      </li>
    </ul>
    <h1>
      <a id="helloworld" name="helloworld">Hello, World!</a>
    </h1>
    <p>
      We'll start with a Hello World example.
    </p>
    <div class="twocolumn">
      <div class="column-filename">
        HelloWorld.html
      </div>
      <div class="html">
<pre>
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Hello World&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;p id="HelloText"&gt;Hello world
&lt;/body&gt;
&lt;/html&gt;
</pre>
      </div>
    </div>
    <div class="twocolumn">
      <div class="column-filename">
        HelloWorld.dyn
      </div>
      <div class="dyn">
<pre>
&lt;dynamator language="jsp"&gt;
  &lt;prolog&gt;
    &lt;%@ page session="false" %&gt;
    &lt;%!
        private String getGreeting()
        {
            return "Hi!";
        }
    %&gt;
  &lt;/prolog&gt;
  &lt;id name="HelloText"&gt;
    &lt;content&gt;getGreeting()&lt;/content&gt;
  &lt;/id&gt;
&lt;/dynamator&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <p>
      The command
    </p>
    <div class="shell">
      java dynamate HelloWorld.html
    </div>
    <div class="clear">
    </div>
    <p>
      produces:
    </p>
    <div class="column">
      <!-- for mozilla -->&nbsp; 
      <span class="bigmath">&#8594;</span>
    </div>
    <div class="column">
      <div class="column-filename">
        HelloWorld.jsp
      </div>
      <div class="out">
<pre>
<span
class="dyn-text">&lt;%-- generated by Dynamator Sun Jun 24 17:01:47 CDT 2001
--%&gt;
    &lt;%@ page session="false" %&gt;
    &lt;%!
        private String getGreeting()
        {
            return "Hi!";
        }
    %&gt;</span><!--
-->&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Hello World&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
  &lt;p id="HelloText"&gt;<span
class="dyn-inline">&lt;%= getGreeting() %&gt;</span>&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <p>
      Here's what happened:
    </p>
    <ol>
      <li>
        Dynamator generated a JSP file because HelloWorld.dyn
        specifies <b>language="jsp"</b>.
      </li>
      <li>
        Because the template is an HTML file, Dynamator ran it
        through JTidy to convert it into XML. Tidy added the
        &lt;/p&gt;. Tidy also changed the formatting a bit
        without affecting the appearance of the page in a
        browser.
      </li>
      <li>
        Dynamator added the "generated by Dynamator" signature so
        maintainers would know immediately that the JSP file is
        generated, not hand-coded. (The signature is optional.)
      </li>
      <li>
        Dynamator placed the contents of the <b>prolog</b>
        element at the beginning of the generated JSP file.
      </li>
      <li>
        Dynamator found an HTML element with an id of
        "HelloText", so it replaced that element's content with
        the program expression in the Dynamator element.
      </li>
    </ol>
    <p>
      Now that you've had a taste, let's get to the details.
    </p>
    <h1>
      <a id="is" name="is">What Dynamator is</a>
    </h1>
    <p>
      Dynamator is a language that specifies how to transform an
      HTML or XML file into a server page or program, and a tool
      for performing the transformation.
    </p>
    <h2>
      Template files
    </h2>
    <p>
      The file that Dynamator operates on is called a template.
      Templates must be XML. Dynamator converts HTML to XML using
      <a href="http://sourceforge.net/projects/jtidy">JTidy</a>,
      a Java port of <a href="http://tidy.sourceforge.net">
      Tidy</a>. It's a good idea to validate HTML using Tidy
      before using it with Dynamator.
    </p>
    <p>
      Examples in this guide use HTML; XML works the same way.
    </p>
    <h2>
      Dynamator files
    </h2>
    <p>
      A Dynamator file describes how to transform a template file
      into a server page or program. For any template file <b>
      <code>x.html</code></b> or <b><code>x.xml</code></b>, the
      Dynamator file is named <b><code>x.dyn</code></b>.
    </p>
    <h2>
      Programming Language Support
    </h2>
    <p>
      Dynamator uses language-specific plugins to format the
      output file. Dynamator ships with plugins for JSP, XSL,
      PHP, ASP, and Java. Plugins for other languages are easy to
      write and install.
    </p>
    <p>
      Dynamator also ships with a plugin for an imaginary
      language named "none", that provides default support for
      stream-oriented template languages (such as Velocity) as
      well as HTML and XML. The default plugin supports all
      Dynamator elements that don't require knowledge of the
      target language. Elements that require a language plugin
      are <tt>&lt;content&gt;</tt>, <tt>&lt;if&gt;</tt>, <tt>
      &lt;for&gt;</tt>, and <tt>&lt;foreach&gt;</tt>. Equivalent
      constructs can be coded manually using low-level Dynamator
      elements.
    </p>
    <p>
      The examples in this guide use JSP, but the Dynamator
      element syntax is the same regardless of language.
    </p>
    <h1>
      <a id="markup" name="markup">Marking up HTML and XML</a>
    </h1>
    <p>
      Dynamator needs some way to identify locations in the HTML
      or XML template. It uses two standard HTML 4.0 attributes:
      <a
      href="http://www.w3.org/TR/1998/REC-html40-19980424/struct/global.html#adef-id">
      id</a> (used to identify a single location in an HTML file)
      and <a
      href="http://www.w3.org/TR/1998/REC-html40-19980424/struct/global.html#adef-class">
      class</a> (used to identify a set of locations in an HTML
      file).
    </p>
    <p>
      In general, every HTML element that needs to be changed in
      some way needs an <b>id</b> or <b>class</b> attribute.
      However, some HTML elements (such as &lt;body&gt; and
      &lt;meta&gt; do not support these attributes. Dynamator
      also provides a way to identify these elements so they can
      be changed.
    </p>
    <p>
      Sometimes there is no element at a location that needs to
      be changed. HTML 4.0 also defines two elements that can be
      used in this situation: <a
      href="http://www.w3.org/TR/1998/REC-html40-19980424/struct/global.html#edef-SPAN">
      span</a> (an in-line element that can contain in-line
      content) and <a
      href="http://www.w3.org/TR/1998/REC-html40-19980424/struct/global.html#edef-DIV">
      div</a> (a block element that can contain block or in-line
      content).
    </p>
    <p>
      All these features are invisible; they do not affect the
      appearance of the HTML. (The div element implies a line
      break; if this is not desired Dynamator can remove the
      tag.)
    </p>
    <p>
      HTML authors are familiar with these features of HTML
      because they use them with CSS.
    </p>
    <p>
      <a id="thetime" name="thetime">Here's a simple example that
      shows the use of <b>span</b>:</a>
    </p>
    <div class="twocolumn">
      <div class="column-filename">
        TheTime.html
      </div>
      <div class="html">
<pre>
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;What time is it?&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;p&gt;The time is 
&lt;span id="Now"&gt;[time goes here]&lt;/span&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
      </div>
    </div>
    <div class="twocolumn">
      <div class="column-filename">
        TheTime.dyn
      </div>
      <div class="dyn">
<pre>
&lt;dynamator language="jsp"&gt;
  &lt;id name="Now"&gt;
    &lt;content&gt;new java.util.Date()&lt;/content&gt;
  &lt;/id&gt;
&lt;/dynamator&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <div class="column">
      <!-- for mozilla -->&nbsp; 
      <span class="bigmath">&#8594;</span>
    </div>
    <div class="column">
      <div class="column-filename">
        TheTime.jsp
      </div>
      <div class="out">
<pre>
<span
class="dyn-text">&lt;%-- generated by Dynamator Fri Nov 23 17:52:49 CST 2001</span><!--
--><span class="dyn-inline">--%&gt;</span>&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;What time is it?&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;The time is &lt;span id="Now"&gt;<span
class="dyn-inline">&lt;%= new java.util.Date() %&gt;</span>&lt;/span&gt;&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <h1>
      <a id="syntax" name="syntax">Dynamator file syntax</a>
    </h1>
    <p>
      Dynamator files use XML syntax, with the following
      important exceptions:
    </p>
    <ul>
      <li>
        Programmatic elements can contain invalid content. So,
        for instance, you can write <span class="dyn"
        style="text-align: center">x &lt; y</span> instead of
        <span class="dyn" style="text-align: center">
        &lt;![CDATA[x &lt; y]]&gt;</span>.
      </li>
      <li>
        XML entities are not resolved. Instead, entities are
        passed through unchanged to the output.
      </li>
    </ul>
    <p>
      These exceptions simplify coding, and are similar to the
      kinds of exceptions made by languages such as JSP.
    </p>
    <p>
      A Dynamator file contains the changes to be applied to a
      template file. The structure of the file mirrors a two step
      process:
    </p>
    <ol>
      <li>
        Identify a set of locations that need to be changed.
      </li>
      <li>
        Specify the changes to be made at those locations.
      </li>
    </ol>
    <h2>
      <a id="root" name="root">Root Level</a>
    </h2>
    <p>
      Here's an empty Dynamator file:
    </p>
    <div class="twocolumn">
      <div class="dyn">
<pre>
&lt;dynamator language="jsp"&gt;
&lt;/dynamator&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <p>
      Every Dynamator file must start and end with a <code>
      &lt;dynamator&gt;</code> element. The <code>language</code>
      attribute is required; it specifies the language of the
      server page or program to be created, and controls the
      behavior of language-specific elements such as <code>
      &lt;foreach&gt;</code> and <code>&lt;if&gt;</code>. Other
      supported languages include <code>java</code>, <code>
      xsl</code>, <code>php</code>, and <code>asp.vb</code>. When
      the language is <code>java</code>, the output is a Java
      program that uses <code>out.print</code> to output template
      content.
    </p>
    <h2>
      <a id="locators" name="locators">First Level: Locators</a>
    </h2>
    <p>
      Most elements at the first level of the Dynamator file
      identify locations in the template file. These elements are
      called <b>locators</b>. Here's a Dynamator file showing the
      most important first-level elements:
    </p>
    <div class="twocolumn">
      <div class="dyn">
<pre>
&lt;dynamator language="jsp"&gt;

  &lt;<b>prolog</b>&gt;
    <i>This text is inserted at the beginning of the file</i>
  &lt;/<b>prolog</b>&gt;
  
  &lt;<b>id</b> name="<i>idname</i>"&gt;
    &lt;!-- <i>This locator matches any template element with the
            attribute</i> id="idname" --&gt;
  &lt;/<b>id</b>&gt;

  &lt;<b>class</b> name="<i>classname</i>"&gt;
    &lt;!-- <i>This locator matches any template element with the
            attribute</i> class="classname" --&gt;
  &lt;/<b>class</b>&gt;

  &lt;<b>tag</b> tag="<i>tagname</i>"&gt;
    &lt;!-- <i>This locator matches any template element with the
            name</i> tagname --&gt;
  &lt;/<b>tag</b>&gt;

  &lt;<b>include</b> file="<i>filename</i>"/&gt;
    &lt;!-- <i>This element includes the contents of
            the Dynamator file</i> filename --&gt;

  &lt;<b>epilog</b>&gt;
    <i>This text is inserted at the end of the file</i>
  &lt;/<b>epilog</b>&gt;

&lt;/dynamator&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <h3>
      File prolog and epilog
    </h3>
    <p>
      The &lt;prolog&gt; and &lt;epilog&gt; elements allow text
      to be placed at the very top and bottom of the output file.
      Text within these elements is copied as-is, including
      white-space. If you don't want white space, don't use any:
    </p>
    <div class="twocolumn">
      <div class="dyn">
<pre>
&lt;dynamator language="xsl"&gt;
  &lt;<b>prolog</b>&gt;&lt;?xml version="1.0"&gt;&lt;/<b>prolog</b>&gt;
&lt;/dynamator&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <h3>
      Locating elements by key
    </h3>
    <p>
      The <code>&lt;id&gt;</code> and <code>&lt;class&gt;</code>
      elements locate template elements by key.
    </p>
    <h4>
      Locating elements by id name
    </h4>
    <p>
      The <code>&lt;id&gt;</code> element locates each template
      element that has a matching <code>id</code> attribute. For
      example:
    </p>
    <div class="twocolumn">
      <div class="column-filename">
        id_example.html
      </div>
      <div class="html">
<pre>
&lt;html&gt;
...
&lt;h1 <b>id="title-heading"</b>&gt;Title&lt;/h1&gt;
...
&lt;/html&gt;
</pre>
      </div>
    </div>
    <div class="twocolumn">
      <div class="column-filename">
        id_example.dyn
      </div>
      <div class="dyn">
<pre>
&lt;dynamator language="jsp"&gt;
  &lt;<b>id name="title-heading"</b>&gt;
    &lt;content&gt;titleHeading&lt;/content&gt;
  &lt;<b>/id</b>&gt;
&lt;/dynamator&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <div class="column">
      <!-- for mozilla -->&nbsp; 
      <span class="bigmath">&#8594;</span>
    </div>
    <div class="twocolumn">
      <div class="column-filename">
        id_example.jsp
      </div>
      <div class="out">
<pre>
...
&lt;html&gt;
...
&lt;h1 id="title-heading"&gt;<span
class="dyn-inline"><b>&lt;%= titleHeading %&gt;</b></span>&lt;/h1&gt;
...
&lt;/html&gt;
...
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <p>
      The <code>&lt;id&gt;</code> element in the example
      Dynamator file above matches every template element that
      has the attribute <span class="html">id="heading"</span>.
    </p>
    <p>
      (In a valid HTML document, there is at most one occurrence
      of any <code>id</code> attribute value.)
    </p>
    <h4>
      Locating elements by class name
    </h4>
    <p>
      The <code>&lt;class&gt;</code> element locates each
      template element that has a matching <code>class</code>
      attribute. For example:
    </p>
    <div class="twocolumn">
      <div class="column-filename">
        class_example.html
      </div>
      <div class="html">
<pre>
&lt;html&gt;
...
&lt;h1 <b>class="subject-name"</b>&gt;Subject&lt;/h1&gt;
...
&lt;h2&gt;Summary for 
&lt;span <b>class="bold subject-name"</b>&gt;Subject&lt;/span&gt;:&lt;/h2&gt;
...
&lt;/html&gt;
</pre>
      </div>
    </div>
    <div class="twocolumn">
      <div class="column-filename">
        class_example.dyn
      </div>
      <div class="dyn">
<pre>
&lt;dynamator language="jsp"&gt;
  &lt;<b>class name="subject-name"</b>&gt;
    &lt;content&gt;subject.getName()&lt;/content&gt;
  &lt;<b>/class</b>&gt;
&lt;/dynamator&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <div class="column">
      <!-- for mozilla -->&nbsp; 
      <span class="bigmath">&#8594;</span>
    </div>
    <div class="twocolumn">
      <div class="column-filename">
        class_example.jsp
      </div>
      <div class="out">
<pre>
...
&lt;html&gt;
...
&lt;h1 class="subject-name"&gt;<span
class="dyn-inline"><b>&lt;%= subject.getName() %&gt;</b></span>&lt;/h1&gt;
...
&lt;h2&gt;Summary for 
&lt;span class="bold subject-name"&gt;<span
class="dyn-inline"><b>&lt;%= subject.getName() %&gt;</b></span>&lt;/span&gt;:&lt;/h2&gt;
...
&lt;/html&gt;
...
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <p>
      The <code>&lt;class&gt;</code> element in the example
      Dynamator file above matches every template element that
      has the attribute <span class="html">
      class="subject-name"</span>.
    </p>
    <p>
      Note that the second template element above belongs to two
      classes, <code>bold</code> and <code>subject-name</code>.
    </p>
    <h3>
      Locating elements by name and attributes
    </h3>
    <p>
      Sometimes an HTML element can't legally have an <b>id</b>
      or <b>class</b> attribute. For example, <b>id</b> and <b>
      class</b> attributes are invalid for elements in the
      &lt;head&gt; section. So Dynamator also provides the <b>
      tag</b> locator, which can be used to locate a set of
      elements based on tag name and attributes.
    </p>
    <p>
      Here are some examples of the <b>tag</b> locator:
    </p>
    <table border="0" class="tabular" cellspacing="1" cellpadding="0"
    summary="Tag locator examples">
      <tr>
        <td nowrap="nowrap" class="dyn-text" bgcolor="#fdf">
          &lt;tag tag="td"&gt;
        </td>
        <td bgcolor="#ffffff">
          applies to all <b><code style="white-space:nowrap">
          &lt;td&gt;</code></b> elements in the template.
        </td>
      </tr>
      <tr>
        <td nowrap="nowrap" class="dyn-text" bgcolor="#fdf">
          &lt;tag tag="meta" http-equiv="Refresh"&gt;
        </td>
        <td bgcolor="#ffffff">
          applies to all <b><code style="white-space:nowrap">
          &lt;meta ...&gt;</code></b> elements in the template
          with the attribute <b><code style="white-space:nowrap">
          http-equiv="Refresh"</code></b>.
        </td>
      </tr>
      <tr>
        <td nowrap="nowrap" class="dyn-text" bgcolor="#fdf">
          &lt;tag tag="a" with-attr="href"&gt;
        </td>
        <td bgcolor="#ffffff">
          applies to all <b><code style="white-space:nowrap">
          &lt;a href="..."&gt;</code></b> elements, but no <b>
          <code style="white-space:nowrap">&lt;a
          name="..."&gt;</code></b> elements.
        </td>
      </tr>
      <tr>
        <td nowrap="nowrap" class="dyn-text" bgcolor="#fdf">
          &lt;tag tag="*" with-attr="class"&gt;
        </td>
        <td bgcolor="#ffffff">
          applies to all elements that have a <b>class</b>
          attribute.
        </td>
      </tr>
    </table>
    <p>
      The <code>&lt;tag&gt;</code> element is extremely powerful.
      In fact, it could replace the <code>&lt;id&gt;</code> and
      <code>&lt;class&gt;</code> elements completely. For
      example, <span class="dyn">&lt;tag tag="*"
      class="some-class"&gt;</span> is equivalent to <span
      class="dyn">&lt;class name="some-class"&gt;</span>. Where
      possible, though, you should prefer <code>&lt;id&gt;</code>
      or <code>&lt;class&gt;</code> to <code>&lt;tag&gt;</code>.
    </p>
    <h3>
      Including other files
    </h3>
    <p>
      Dynamator provides a file include mechanism to enable
      reuse. The &lt;include&gt; element logically inserts the
      contents of another Dynamator file into the including file.
      An &lt;include&gt; element may only be used at the top
      level, and the included file must be a Dynamator file.
    </p>
    <p>
      By default, Dynamator uses the directory containing the
      initial Dynamator file as the basis for resolving relative
      filenames.
    </p>
    <p>
      You can specify a search path using the command line option
      "<tt>-I <i>dir</i></tt>". If multiple <tt>-I</tt> arguments
      are provided, each directory is tried in order. If the file
      isn't found in any of the include directories, the
      directory containing the top-level Dynamator file is tried.
    </p>
    <h2>
      <a id="modifiers" name="modifiers">Second Level:
      Modifiers</a>
    </h2>
    <p>
      The content of a locator specifies the changes to be made
      to the located element. Elements within a locator are
      called <b>modifiers</b>.
    </p>
    <p>
      Here's a locator element with the most frequently used
      modifiers. Note that these modifiers apply to the
      &lt;class&gt; and &lt;tag&gt; locators as well as
      &lt;id&gt;.
    </p>
    <div class="column">
      <div class="dyn">
<pre>
&lt;id name="<i>idname</i>"&gt;

  &lt;<b>content</b>&gt;
    <i>A program expression to be output instead of the element's content.</i>
  &lt;<b>/content</b>&gt;    

  &lt;<b>raw-content</b>&gt;
      <i>Text or code that replaces the attribute value.</i>
  &lt;<b>/raw-content</b>&gt;    
    
  &lt;<b>discard/</b>&gt;
    &lt;!-- <i>Removes the element and its content</i> --&gt;

  &lt;<b>discard-tag/</b>&gt;
    &lt;!-- <i>Removes the element's start and end tags but not its content</i> --&gt;

  &lt;<b>attr</b> name="<i>attrname</i>"&gt;
    &lt;!-- <i>Attribute modifiers, described <a
href="#attrs">below</a>.</i> --&gt;
  &lt;<b>/attr</b>&gt;
  
  &lt;<b>rename</b> to="<i>element-name</i>"<b>/</b>&gt;
    &lt;!-- <i>Renames the element</i> --&gt;
  
  &lt;!-- ========================================
       <i>Language-specific elements:
       These elements require a language plugin.</i>
       ======================================== --&gt;
  &lt;<b>if</b>&gt;
    <i>A program conditional expression.
    The template element is output only if the condition is true.</i>
  &lt;<b>/if</b>&gt;

  &lt;<b>foreach</b>&gt;
    <i>A program collection expression.
    The template element is output for each element of the collection.</i>
  &lt;<b>/foreach</b>&gt;

&lt;/id&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <p>
      The &lt;content&gt; element contains a program expression
      (often a variable reference). Dynamator replaces the
      content of the template element with code to output the
      value of that expression. We've already seen examples of
      the &lt;content&gt; element in the <a href="#helloworld">
      helloworld</a> and <a href="#thetime">time</a> examples.
    </p>
    <p>
      The &lt;content&gt; element uses the language-specific
      plugin to determine the appropriate expression reference
      syntax for the target language. (For JSP, the expression
      syntax is <code>&lt;%= <i>expression</i>%&gt;</code>.) If
      no plugin is available for the target language, element
      content is used as-is. If working with a language for which
      there is no plugin, it's best to use the
      &lt;raw-content&gt; element instead.
    </p>
    <p>
      The &lt;raw-content&gt; element works like &lt;content&gt;,
      except that its content is used as-is. The
      &lt;raw-content&gt; is rarely used when a language-specific
      plugin is available.
    </p>
    <p>
      The &lt;discard/&gt; element causes the entire matched
      element to be removed (from the start-tag to the end-tag,
      including everything in between). This is useful for
      removing sample data from a demonstration site. The
      &lt;discard-tag/&gt; element causes just the matched start
      and end tags to be removed, leaving the element content.
    </p>
    <p>
      The &lt;rename&gt; element causes the matched element to be
      renamed. This is useful for JSP tag libraries and ASP.NET,
      which use pseudo-HTML elements.
    </p>
    <h3>
      <a id="if" name="if">If</a>
    </h3>
    <p>
      The <b>if</b> element generates code to cause an element to
      be output only if a condition is true.
    </p>
    <p>
      The following Dynamator example uses <b>if</b> to generate
      a greeting appropriate for the time of day.
    </p>
    <div class="twocolumn">
      <div class="column-filename">
        TimeGreeting.html
      </div>
      <div class="html">
<pre>
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;What time is it?&lt;/title&gt;
&lt;span type="text/css"&gt;
.hide { display: none }
&lt;/span&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;p&gt;The time is 
&lt;span id="Time"&gt;[time]&lt;/span&gt;&lt;/p&gt;
&lt;p id="Morning"&gt;Good Morning!&lt;/p&gt;
&lt;div class="hide"&gt;
&lt;p id="Afternoon"&gt;Good Afternoon!&lt;/p&gt;
&lt;p id="Evening"&gt;Good Evening!&lt;/p&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
      </div>
    </div>
    <div class="twocolumn">
      <div class="column-filename">
        TimeGreeting.dyn
      </div>
      <div class="dyn">
<pre>
&lt;dynamator language="jsp"&gt;
&lt;prolog&gt;
&lt;%@ page import="java.util.Calendar"%&gt;
&lt;%
    Calendar calendar = 
        Calendar.getInstance();
    int hour = calendar.get(
        Calendar.HOUR_OF_DAY);
%&gt;
&lt;/prolog&gt;
&lt;id name="Time"&gt;
  &lt;content&gt;calendar.getTime()&lt;/content&gt;
&lt;/id&gt;
&lt;id name="Morning"&gt;
  &lt;if&gt;hour &lt; 12&lt;/if&gt;
&lt;/id&gt;
&lt;id name="Afternoon"&gt;
  &lt;if&gt;12 &lt;= hour &amp;&amp; hour &lt; 18&lt;/if&gt;
&lt;/id&gt;
&lt;id name="Evening"&gt;
  &lt;if&gt;18 &lt;= hour&lt;/if&gt;
&lt;/id&gt;
&lt;class name="hide"&gt;
  &lt;discard-tag/&gt;
&lt;/class&gt;
&lt;/dynamator&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <div class="column">
      <!-- for mozilla -->&nbsp; 
      <span class="bigmath">&#8594;</span>
    </div>
    <div class="twocolumn">
      <div class="column-filename">
        TimeGreeting.jsp
      </div>
      <div class="out">
<pre>
<span
class="dyn-text">&lt;%-- generated by Dynamator Sat Nov 24 10:02:26 CST 2001
--%&gt;
&lt;%@ page import="java.util.Calendar"%&gt;
&lt;%
    Calendar calendar = 
        Calendar.getInstance();
    int hour = 
        calendar.get(Calendar.HOUR_OF_DAY);
%&gt;</span><!--
-->&lt;html&gt;
    &lt;head&gt;
    &lt;title&gt;What time is it?&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;The time is &lt;span id="Time"&gt;<span
class="dyn-inline">&lt;%= new Date() %&gt;</span>&lt;/span&gt;&lt;/p&gt;
<span class="dyn-text">&lt;%
      if ( hour &lt; 12 ) 
      {
        %&gt;<span
class="html-inline">&lt;p id="Morning"&gt;Good Morning!&lt;/p&gt;</span>&lt;%
      }</span><!--
--> <span class="dyn-inline">   %&gt;</span>
<span class="dyn-text">&lt;%
      if ( 12 &lt;= hour &amp;&amp; hour &lt; 18 ) 
      {
        %&gt;<span
class="html-inline">&lt;p id="Afternoon"&gt;Good Afternoon!&lt;/p&gt;</span>&lt;%
      }</span><!--
--> <span class="dyn-inline">   %&gt;</span>
<span class="dyn-text">&lt;%
      if ( 18 &lt;= hour ) 
      {
        %&gt;<span
class="html-inline">&lt;p id="Evening"&gt;Good Evening!&lt;/p&gt;</span>&lt;%
      }</span><!--
--> <span class="dyn-inline">   %&gt;</span>
  &lt;/body&gt;
&lt;/html&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <p>
      The example above shows a pattern that can be used for
      handling selective display of text defined in a template.
      The template contains all the text, but displays only the
      text associated with a single condition. This is so the
      template can be used in a static demo site. (You can get a
      lot more sophisticated in a demo site if you want.) The
      Dynamator file makes all elements potentially visible--in
      this case by removing the <code>&lt;div
      class="hide"&gt;</code> start and end tags using the <code>
      &lt;discard-tag/&gt;</code> element, and wraps each
      selection in an <code>&lt;if&gt;</code>.
    </p>
    <p>
      Note a difference here from how you would hand-code this:
      Dynamator does not support <b>else</b>. (Supporting <b>
      else</b> would make the Dynamator file dependent on the
      sequence of the entries in the HTML file.) You can always
      use Dynamator's <code>&lt;before&gt;</code> or <code>
      &lt;after&gt;</code> elements to insert an else; just be
      aware that this will make your code a little more brittle.
    </p>
    <h3>
      <a id="foreach" name="foreach">Foreach</a>
    </h3>
    <p>
      The <b>foreach</b> element generates code to repeat the
      located template element for each element of a collection.
      The attributes used depend on the language. The following
      example outputs each item in the classpath.
    </p>
    <div class="twocolumn">
      <div class="column-filename">
        Classpath.html
      </div>
      <div class="html">
<pre>
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Java Classpath&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Classpath:&lt;/h1&gt;
&lt;p class="pathelem"&gt;
(element)
&lt;/body&gt;
&lt;/html&gt;
</pre>
      </div>
    </div>
    <div class="twocolumn">
      <div class="column-filename">
        Classpath.dyn
      </div>
      <div class="dyn">
<pre>
&lt;dynamator language="jsp"&gt;
  &lt;prolog&gt;
    &lt;%@ page import="java.util.StringTokenizer"%&gt;
  &lt;/prolog&gt;
  &lt;class name="pathelem"&gt;
    &lt;foreach 
        type="Enumeration[String]" 
        collection="tokens"
        element="dir"
        &gt;
      new StringTokenizer(
          System.getProperty("java.class.path"), 
          System.getProperty("path.separator"))
    &lt;/foreach&gt;
    &lt;content&gt;
      dir
    &lt;/content&gt;
  &lt;/class&gt;
&lt;/dynamator&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <div class="column">
      <!-- for mozilla -->&nbsp; 
      <span class="bigmath">&#8594;</span>
    </div>
    <div class="twocolumn">
      <div class="column-filename">
        Classpath.jsp
      </div>
      <div class="out">
<pre>
<span
class="dyn-text">&lt;%-- generated by Dynamator Fri Nov 23 11:11:46 CST 2001
--%&gt;
    &lt;%@ page import="java.util.StringTokenizer"%&gt;
</span>&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Java Classpath&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Classpath:&lt;/h1&gt;
 <span class="dyn-text">   &lt;%
      {
        java.util.Enumeration tokens = new StringTokenizer(
          System.getProperty("java.class.path"), 
          System.getProperty("path.separator"));
        String dir;
        while ( tokens.hasMoreElements() )
        {
          dir = (String) tokens.nextElement();
    %&gt;</span><!--
-->        &lt;p class="pathelem"&gt;<span
class="dyn-inline">&lt;%= dir %&gt;</span>&lt;/p&gt;&gt;
 <span class="dyn-text">   &lt;%
        }
      }
    %&gt;</span><!--
-->  &lt;/body&gt;
&lt;/html&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <h2>
      <a id="attrs" name="attrs">Attribute Modifiers</a>
    </h2>
    <p>
      Attributes can be changed, added, removed, and made
      conditional.
    </p>
    <p>
      Here's a locator element with all possible attribute
      modifiers.
    </p>
    <div class="column">
      <div class="dyn">
<pre>
&lt;id name="<i>idname</i>"&gt;
  &lt;attr name="<i>attrname</i>"&gt;

    &lt;<b>content</b>&gt;
      <i>A program expression to be output instead of the attribute value.</i>
    &lt;<b>/content</b>&gt;    
  
    &lt;<b>raw-content</b>&gt;
      <i>Text or code that replaces the attribute value.</i>
    &lt;<b>/raw-content</b>&gt;    
    
    &lt;<b>discard/</b>&gt;
      &lt;!-- <i>Removes the attribute</i> --&gt;
  
    &lt;<b>rename</b> to="<i>attr-name</i>"<b>/</b>&gt;
      &lt;!-- <i>Renames the attribute</i> --&gt;
  
    &lt;!-- ========================================
         <i>Language-specific elements:
         These elements require a language plugin.</i>
         ======================================== --&gt;
    &lt;<b>if</b>&gt;
      <i>A program conditional expression.
      The attribute is output only if the condition is true.</i>
    &lt;<b>/if</b>&gt;

  &lt;/attr&gt;
&lt;/id&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <p>
      If an &lt;attr&gt; element contains a <b>content</b> or <b>
      raw-content</b> entry, and the corresponding attribute is
      not found in the template, it is added.
    </p>
    <p>
      Text can also be added directly to a tag using the
      raw-attrs modifier.
    </p>
    <p>
      Within the <b>content</b> and <b>raw-content</b> entries
      for an &lt;attr&gt; element, the magic string <b><code>
      [[@]]</code></b> stands for the original attribute value,
      and the magic expression <b><code>[[@/x/y]]</code></b>
      stands for the original attribute value with all
      occurrences of the string 'x' replaced by 'y'. This comes
      in handy when converting HTML links to server pages links:
    </p>
    <div class="twocolumn">
      <div class="column-filename">
        Menu.html
      </div>
      <div class="html">
<pre>
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Menu&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;a href="page1.html"&gt;Page 1&lt;/a&gt;
&lt;br&gt;
&lt;a href="page2.html"&gt;Page 2&lt;/a&gt;
&lt;br&gt;
&lt;a href="page3.html"&gt;Page 3&lt;/a&gt;
&lt;br&gt;
&lt;a href="page4.html"&gt;Page 4&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
      </div>
    </div>
    <div class="twocolumn">
      <div class="column-filename">
        Menu.dyn
      </div>
      <div class="dyn">
<pre>
&lt;dynamator language="jsp"&gt;
&lt;tag tag="a" with-attr="href"&gt;
  &lt;attr name="href"&gt;
    &lt;content&gt;
      response.encodeURL("[[@/.html/.jsp]]")
    &lt;/content&gt;
  &lt;/attr&gt;
&lt;/tag&gt;
&lt;/dynamator&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <div class="column">
      <!-- for mozilla -->&nbsp; 
      <span class="bigmath">&#8594;</span>
    </div>
    <div class="twocolumn">
      <div class="column-filename">
        Menu.jsp
      </div>
      <div class="out">
<pre>
<span
class="dyn-inline">&lt;%-- generated by Dynamator Sat Nov 24 10:55:37 CST 2001
--%&gt;</span>&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Menu&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
<span class="dyn-text"><span
class="html-inline">   &lt;a href="</span>&lt;%= 
      response.encodeURL("page1.jsp")</span><!--
--> <span
class="dyn-inline">   %&gt;</span>"&gt;Page 1&lt;/a&gt;&lt;br&gt;
<span class="dyn-text"><span
class="html-inline">   &lt;a href="</span>&lt;%= 
      response.encodeURL("page2.jsp")</span><!--
--> <span
class="dyn-inline">   %&gt;</span>"&gt;Page 2&lt;/a&gt;&lt;br&gt;
<span class="dyn-text"><span
class="html-inline">   &lt;a href="</span>&lt;%= 
      response.encodeURL("page3.jsp")</span><!--
--> <span
class="dyn-inline">   %&gt;</span>"&gt;Page 3&lt;/a&gt;&lt;br&gt;
<span class="dyn-text"><span
class="html-inline">   &lt;a href="</span>&lt;%= 
      response.encodeURL("page4.jsp")</span><!--
--> <span
class="dyn-inline">   %&gt;</span>"&gt;Page 4&lt;/a&gt;&lt;br&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <h2>
      <a id="primitives" name="primitives">Primitive
      Modifiers</a>
    </h2>
    <p>
      Primitive modifiers support low-level changes to a
      template. You shouldn't need to use them very often. If you
      are generating to an unsupported template language, you can
      use primitive modifiers to manually create <b>if</b> and
      <b>foreach</b> logic. (Better yet, create a plugin and save
      yourself some time.)
    </p>
    <p>
      Here's a locator element showing all the primitive
      modifiers. Note that these modifiers apply to the
      &lt;class&gt; and &lt;tag&gt; locators as well as
      &lt;id&gt;.
    </p>
    <div class="column">
      <div class="dyn">
<pre>
&lt;id name="<i>idname</i>"&gt;

  &lt;<b>before</b>&gt;
    <i>Text or code inserted immediately before the element's start tag</i>
  &lt;<b>/before</b>&gt;    

  &lt;<b>before-content</b>&gt;
    <i>Text or code inserted immediately after the element's start tag</i>
  &lt;<b>/before-content</b>&gt;    

  &lt;<b>raw-content</b>&gt;
    <i>Text or code that replaces the element's content.</i>
  &lt;<b>/raw-content</b>&gt;    

  &lt;<b>after-content</b>&gt;
    <i>Text or code inserted immediately before the element's end tag</i>
  &lt;<b>/after-content</b>&gt;    

  &lt;<b>after</b>&gt;
    <i>Text or code inserted immediately after the element's end tag</i>
  &lt;<b>/after</b>&gt;    

  &lt;<b>raw-attrs</b>&gt;
    &lt;!-- <i>Text or code added to the element's start tag.</i> --&gt;
  &lt;<b>/raw-attrs</b>&gt;

&lt;/id&gt; 
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <p>
      Here's the placement relationship of the primitive elements
      to the located element in the generated server page:
    </p>
    <div class="column">
      <div class="out">
<pre>
<span class="dyn-text"><i>   before</i></span><!--
-->&lt;<i>located-element</i> <span
class="dyn-inline"><i>raw-attrs</i></span>&gt;
<span class="dyn-text"><i>   before-content</i></span><!--
-->  <i>element content</i> <span class="neutral-inline">or <span
class="dyn-inline"><i>content</i></span> or <span
class="dyn-inline"><i>raw content</i></span></span>
<span class="dyn-text"><i>   after-content</i></span><!--
-->&lt;/<i>located-element</i>&gt;
<span class="dyn-text"><i>   after</i></span><!--
-->
</pre>
      </div>
    </div>
    <div class="clear">
    </div>
    <h2>
      <a name="precedence">Locator Precedence</a>
    </h2>
    <p>
      If an element is addressed by multiple locators, locators
      are applied in the following order:
    </p>
    <ol>
      <li>
        &lt;id&gt; locators.
      </li>
      <li>
        &lt;class&gt; locators.
      </li>
      <li>
        &lt;tag&gt; locators.
      </li>
    </ol>
    <p>
      If more than one of any kind of locator (for example, two
      &lt;tag&gt; locators) matches the same element, they are
      applied in the order they appear in the Dynamator file.
    </p>
    <p>
      Regardless of how many locators match, only one of each
      kind of modifier is applied. Attribute modifiers are
      distinguished by attribute name, so if locator 'a' has an
      attribute modifier for attribute 'x', and locator 'b' has
      an attribute modifier for attribute 'x' and attribute 'y',
      locator 'a's modifier for 'x' will be applied, and locator
      'b's modifier for 'y' will be applied.
    </p>
    <h1>
      <a id="wheretonow" name="wheretonow">Where to go from
      here</a>
    </h1>
    <p>
      You now should have a basic understanding of Dynamator
      facilities for creating server pages and programs. Some
      possible next steps:
    </p>
    <ul>
      <li>
        Take a look at some <a href="examples.html">examples</a>.
      </li>
      <li>
        Try Dynamator for yourself by following the directions in
        the <a href="quickstart.html">Quick Start</a>.
      </li>
      <li>
        Find out how to use Dynamator for internationalization by
        reading the <a href="i18n\i18n.html">internationalization
        guide</a>.
      </li>
      <li>
        Learn more about using Dynamator with HTML and XML by <a
        href="download.html">downloading</a> the documentation
        and reading through the Dynamator tutorial.
      </li>
    </ul>
  </body>
</html>

