<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>Dynamator Example 9b: Creating a Dynamically Populated
Choice List</title>
<link rel="StyleSheet" type="text/css" href="../../style.css" />
</head>
<body>
<h1>Creating a Dynamically Populated Choice List</h1>

<p>This example shows how to output the elements of an indexed
property as a list of selection options, and how to show the
currently selected option.</p>

<h2>Page</h2>

<iframe width="600" height="170" src="FavoriteColor.html"></iframe>

<h2>HTML</h2>

<p>The first option in the list is hard-coded as blank. Because
array references in Java are zero-based, the first option is
indexed with value "-1". The second option in the list is marked
with a class that will be used by Dynamator. The remaining options
in each list are marked with class "Discard", which causes them to
be removed by Dynamator.</p>

<div class="column">
<div class="column-filename">FavoriteColor.html</div>

<div class="html">
<div class='insert'>FavoriteColor.html</div>
</div>
</div>

<div class="clear"></div>

<h2>Dynamator File</h2>

<div class="column">
<div class="column-filename">FavoriteColor.dyn</div>

<div class="dyn">
<div class='insert'>FavoriteColor.dyn</div>
</div>
</div>

<div class="clear"></div>

<p>In comparison with the previous example, the 'foreach' element
has a new attribute, 'i'. The 'i' attribute names a variable to
hold the iteration number, which in Java starts with 0.</p>

<p>The value sent by an option element in the HTTP request is the
value of the 'value' attribute of the option element. Usually this
is not the same as the text displayed by the option element; often,
it is the offset or key of the indexed property whose name is
displayed with the choice. In this example, the value is the value
of the variable 'iColor'.</p>

<p>The '&lt;content&gt;' element near the end of the file causes
the content of the option element to be dynamically set to the
value of the variable 'color', which is the current element of the
'colors_' collection, as specified in the 'foreach' element.</p>

<h2>JSP file</h2>

<p>After processing with Dynamator, the resulting JSP file looks
like this:</p>

<div class="column">
<div class="column-filename">FavoriteColor.jsp (generated by
Dynamator)</div>

<iframe src="FavoriteColor_jsp.html" width="600" height="250" frameborder="1" scrolling="auto"></iframe>
</div>

<div class="clear"></div>

<div class="in-action">
<h2>In Action</h2>

<p>If you are viewing this page in a servlet engine, you can see <a
href="FavoriteColor.jsp">the generated page in action</a>.</p>
</div>
</body>
</html>

