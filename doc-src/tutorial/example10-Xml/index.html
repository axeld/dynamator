<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>Dynamator Example 10: XML</title>
<link rel="StyleSheet" type="text/css" href="../../style.css" />
</head>
<body>
<h1>XML and XSL</h1>

<p>Previous examples have used Dynamator to generate JSP that
produces HTML.
This example uses Dynamator to generate JSP that produces XML.
</p>

<p>
In general, Dynamator works the same with XML templates as with HTML
templates. 
There are a few differences.  The 'id' and 'class' attributes aren't
available in XML unless they're declared in the DTD. To keep the
template valid XML, the Dynamator file should use the &lt;tag&gt;
element to locate elements.  If that's not possible, Dynamator can
remove the 'id' and 'class' attributes.
</p>

<h2>The Output</h2>

<p>This example produces a sample XML document consisting of a 
list of terms:</p>

<div class="column">
<div class="out">
<div class='insert'>terms_output.xml</div>
</div>
</div>

<div class="clear"></div>

<h2>XML Template</h2>

<div class="column">
<div class="column-filename">terms.xml</div>

<div class="html">
<div class='insert'>terms.xml</div>
</div>
</div>

<div class="clear"></div>

<p>
This template uses a Dynamator feature called "comment div".
Dynamator treats a comment that begins with the text 'div' as a 
&lt;div&gt; element, allowing locators to be applied to arbitrary
portions of a template document.  In this case, the comment div is used
to discard elements that are in the template only to provide sample
data.</p>

<h2>Dynamator File</h2>

<div class="column">
<div class="column-filename">terms.dyn</div>

<div class="dyn">
<div class='insert'>terms.dyn</div>
</div>
</div>

<div class="clear"></div>

<p>Notice that the prolog is formatted to contain no whitespace outside
of JSP elements.
This formatting ensures that no spaces are inserted into the output
before the end of the prolog. In a valid XML document, there are no
spaces before the first &lt;? xml ?&gt; tag.</p>

<p>One element added for this demonstration is the JSP page
directive specifying contentType="text/plain". Normally, the
content type for an XML document would be "text/xml", but this
ensures that you will be able to see the XML in your browser.</p>

<h2>Processing</h2>

<p>Like HTML, XML files are processed using <b>dynamate</b>.
Because the input file does not end with a suffix of '.html' or
'.htm', <b>dynamate</b> does not preprocess it using Tidy.</p>

<div class="shell">
<pre>
.../doc/tutorial/example10_Xml&gt; <b>java dynamate terms.xml</b>
</pre>
</div>

<div class="clear"></div>

<h2>JSP</h2>

<p>After processing with Dynamator, the resulting JSP file looks
like this:</p>

<div class="column">
<div class="column-filename">terms.jsp (generated by Dynamator)</div>

<iframe width="600" height="250" src="terms_jsp.html" frameborder="1" scrolling="auto"></iframe>
</div>

<div class="clear"></div>

<div class="in-action">
<h2>In Action</h2>

<p>If you are viewing this page in a servlet engine, you can see <a
href="terms.jsp">the generated xml data</a>.</p>
</div>
</body>
</html>

